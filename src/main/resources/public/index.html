<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title> CryptoOne </title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no" />
    
    <link rel="stylesheet" href="vendor/vendor.css" />
    <link rel="stylesheet" href="vendor/bootstrap/dist/css/bootstrap.css" />
    <link rel="stylesheet" href="styles/main.css">

    <style type="text/css">
        [ng\:cloak], [ng-cloak], [data-ng-cloak], [x-ng-cloak], .ng-cloak, .x-ng-cloak {
          display: none !important;
        }
    </style>

  </head>

  <body ng-app="cryptClientApp" layout="column" ng-controller="MainController" ng-cloak>
    <!--[if lte IE 8]>
      <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->

    <md-toolbar layout="row" layout-align="center end" layout="row" class="md-thin">
        <div  ng-controller="SessionController" > 

            <md-button ng-click="toggleNavBar(0)" ng-if="isLoggedIn">
               <i class="glyphicon glyphicon-menu-hamburger"></i> 
            </md-button>

            <md-button ng-if="!isLoggedIn" ui-sref="login" >
            {{ 'session.signin' | translate }}
            </md-button>

            <md-button ng-if="!isLoggedIn" ui-sref="register" >
            {{ 'session.signup' | translate }}
            </md-button>

            <md-button ng-if="isLoggedIn" ng-click="logout()">
                <span class="glyphicon glyphicon-log-out" ></span>
            </md-button>

        </div>

            <h1> CryptOne </h1>
            <ng-messages when="error">
                {{ error | translate }}
            </ng-messages>

        <div>
            <md-button ng-click="toggleNavBar(1)" ng-if="isLoggedIn">
                online
                <i class="glyphicon glyphicon-user"></i> 
            </md-button>

           <div class="pull-right btn-group">
             <button type="button" class="btn btn-primary btn-xs dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                 lang: {{ prefferedLanguage }} <span class="caret"></span>
             </button>
             <ul class="dropdown-menu" role="menu">
               <li>
                <a href="#" ng-click="switchLanguage('de')">
                    <img style="width:25px; height:25px" src="images/de.png"> 
                </a>
               </li>
               <li class="divider"></li>
               <li>
                <a href="" ng-click="switchLanguage('en')">
                    <img  style="width:25px; height:25px" src="images/en.png"> 
                </a>
               </li>
               <li class="divider"></li>
               <li>
                <a href="" ng-click="switchLanguage('fr')">
                    <img  style="width:25px; height:25px" src="images/fr.png">
                </a>
               </li>
               <li class="divider"></li>
               <li>
                <a href="" ng-click="switchLanguage('fr')">
                    <img  style="width:25px; height:25px" src="images/cm.png">
                </a>
               </li>
               <li class="divider"></li>
             </ul>
           </div>
            
        </div>

    </md-toolbar>


    <div ng-cloak="" ng-if="isLoggedIn" class="tabsdemoDynamicHeight">
        <md-content>
            <md-tabs  md-dynamic-height="" md-border-bottom="" >
                <md-content class="md-padding mg-warn">

                    <md-tab  label="users"  class="md-primary">
                        <md-button ui-sref="users" > {{ "users.user"  | translate }} </md-button>
                        <md-button ui-sref="friends" > {{ "friends.friend"  | translate }} </md-button>
                    </md-tab>

                    <md-tab  label="documents"  class="md-primary">
                        <md-button ui-sref="documents.groupId({ groupId : {{currentUserGroupId}}})"> my documents </md-button>
                    </md-tab>

                    <md-tab  label="groups" class="md-primary">
                        <md-button class="button" ui-sref="groups" > public </md-button>
                        <md-button class="button" ui-sref="groups/registered" > my groups </md-button>
                        <md-button ng-click="showAddGroup()"> create </md-button>
                    </md-tab>

                    <md-tab label="friends"  class="md-primary">
                        <md-button ui-sref="friends" > my friends </md-button>
                    </md-tab>

                </md-content>
            </md-tabs>
        </md-content>
    </div> 
    

    <div flex  ng-if="isLoggedIn" layout="row">

        <div ng-show="navBarShowL" flex="15" ng-hide="navBarHideL" >
            <nav  ng-cloak>
                <md-list>
                    <md-item>
                        <md-button  ui-sref="users" class="menu" aria-label="home">
                            <md-icon md-svg-src="/images/48/home.svg" class="avatar"></md-icon>
                                Home
                        </md-button>
                    </md-item>
                    
                    <md-item>
                        <md-button  ui-sref="documents.groupId.upload({ groupId : {{currentUserGroupId}}})"   class="menu" aria-label="Upload">
                                {{ currentUserGroupId }}
                                <md-icon md-svg-src="/images/18/upload.svg" class="avatar"></md-icon> Upload
                        </md-button>
                    </md-item>
                </md-list>
            </nav>
        </div>

        <div flex>
            <md-content id="content">
                <div class="container-fluid" ui-view></div>
            </md-content>
        </div>

        <div ng-show="navBarShowR"  flex="15" ng-hide="!navBarHideR" >

               <table st-table="friends" ng-show="friends" class="table table-striped" st-sticky-header>
                  <thead>                                                                           
                    <tr>                                                                              
                        <th> Friend Email
                        </th>                                                                             
                    </tr>                                                                             
                  </thead>                                                                          
                  <tbody>
                        <tr ng-repeat="row in friends" >
                            <td ng-drag="true" ng-drag-data='row' ng-drag-success='dragSuccess($data, $event)'> {{ row.email  }} </td>
                        <tr>
                  </tbody>
                </table>

               <table st-table="mygroups" ng-show="mygroups" class="table table-striped" st-sticky-header>
                  <thead>                                                                           
                    <tr>                                                                              
                        <th> {{ 'groups.registered' | translate }}
                        </th>                                                                             
                    </tr>                                                                             
                  </thead>                                                                          
                  <tbody>
                        <tr ng-repeat="row in mygroups" >
                            <td ng-drop="true" ng-drop-success="dropSuccess($data, $event, row)" > {{ row.name }} </td>
                        <tr>
                  </tbody>
                </table>
        </div>

    </div>

    <ui-view ng-if="!isLoggedIn" layout-align="center end" layout="row"></ui-view>


    <script src="vendor/vendor.js"></script>
    <script src="scripts/app.js"></script>
    <script src="scripts/controllers/main.js"></script>
    <script src="scripts/services/rest.js"></script>
    <script src="scripts/services/storage.js"></script>
    <script src="scripts/services/rtdocuments.js"></script>
    <script src="scripts/services/rtusers.js"></script>
    <script src="scripts/services/rtfriends.js"></script>
    <script src="scripts/services/rtgroups.js"></script>
    <script src="scripts/controllers/users.js"></script>
    <script src="scripts/controllers/groups.js"></script>
    <script src="scripts/controllers/documents.js"></script>
    <script src="scripts/controllers/friends.js"></script>
    <script src="scripts/services/server.js"></script>
    <script src="scripts/filters/filter.js"></script>
    <script src="scripts/services/interceptor.js"></script>
    <script src="scripts/services/auth.js"></script>
    <script src="scripts/services/dialog.js"></script>
    <script src="scripts/directives/directive.js"></script>
    <script src="scripts/controllers/session.js"></script>
    <script src="scripts/services/auth_events.js"></script>
    <script src="scripts/services/res_events.js"></script>
    <script src="scripts/services/documents.js"></script>
</body>
</html>

